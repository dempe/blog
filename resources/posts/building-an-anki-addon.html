---
published: 1683345600
tags: anki tech
title: "Building an Anki Addon"
slug: "building-an-anki-addon"
is_draft: true
---


<p>
    I am a religious user of <a href="https://apps.ankiweb.net/">Anki</a> for <a
    href="https://en.wikipedia.org/wiki/Spaced_repetition">spaced repetition</a>, and I am a firm believer in making
    your own cards. Each card has a number of fields, and each field must be converted to HTML. The Anki UI has a number
    of features that make this easier (for example, surrounding text with escaped parentheses (<code>\(f(x) =
    x^2\)</code>) will render it with <a href="https://www.mathjax.org/">MathJax</a>). If all else fails, Anki allows
    you to input the raw HTML.
</p>

<aside>
    <figure>
        <img src="../assets/img/anki-editor.png"
             alt="This image shows what the Anki editor looks like.  It is various fields of text and buttons to manipulate that text (turn it into HTML).  This example, in particular, has a question about Java resouce streams - 'What is the difference between class.getClassLoader().getResourceAsStream and class.getResourceAsStream?'"/>
        <figcaption>The Anki editor</figcaption>
    </figure>
</aside>

<h2>Entering Code Snippets is Tedious</h2>

<p>
    As of version 2.1.54, Anki has no helper for adding code to your cards. This means you have to enter the raw HTML,
    <code>&lt;code&gt;&lt/code&gt;</code>.<sup><a id="1" href="#fn1">1</a></sup> I'm a software engineer. A lot of my
    cards contain code snippets. Entering raw HTML everytime is tedious. In Markdown, you can just surround inline code
    with backticks. It would be nice if I could do this in Anki.
</p>

<p>
    The <a href="https://addon-docs.ankiweb.net/intro.html">official documentation</a> for writing addons mentions that
    Python addons are executed via a callback function passed to one of <a
    href="https://addon-docs.ankiweb.net/hooks-and-filters.html">various hooks</a> that the Anki source defines. But
    which hook do we need?
</p>

<div class="footnotes">
    <h2>Footnotes</h2>
    <p id="fn1"><a href="#1">1.</a> There are some addons that allow you to type Markdown, but most of these are
        overkill. <!---<a class="arrow" href="#1">&#x21E7;</a>-->
    </p>
</div>
